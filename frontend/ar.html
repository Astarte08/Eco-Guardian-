<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EcoGuardian | Eco Lens (AR)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">

  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <img src="assets/logo.png" alt="EcoGuardian Logo">
        <h1>Eco Lens</h1>
      </div>
      <a href="index.html" class="back-button">← Back to Dashboard</a>
    </header>

   <main class="ar-container">
    <!-- Instructions Section -->
    <div class="ar-instructions">
      <h2>How to use Eco Lens</h2>
      <ol>
        <li>Point camera at product</li>
        <li>Hold steady for analysis</li>
        <li>Get instant eco-facts</li>
      </ol>
      
      <div class="sample-products">
        <h3>Try scanning:</h3>
        <div class="product-tags">
          <span>Plastic bottle</span>
          <span>Paper bag</span>
          <span>Electronics</span>
          <span>Food packaging</span>
        </div>
      </div>
    </div>

    <!-- AR View Container -->
<div class="ar-view-container" style="position:relative; width:100%; height:60vh; margin:20px 0;">
  <a-scene 
    embedded 
    arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
    renderer="logarithmicDepthBuffer: true; precision: medium;"
    style="width:100%; height:100%;"
  >
    <a-marker preset="hiro">
      <a-entity position="0 0 0"
                text="align: center; width: 3; value: Ready to scan..."
                scale="1 1 1"></a-entity>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>
  
  <!-- Enhanced Scanning Overlay -->
  <div class="scanning-overlay" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; display:flex; justify-content:center; align-items:center;">
    <div style="border:2px dashed rgba(0,255,100,0.5); width:80%; height:60%; border-radius:10px;"></div>
    <p class="scan-hint" style="position:absolute; bottom:20px; color:white; text-align:center; width:100%; text-shadow:0 0 5px #000;">Align product with marker</p>
  </div>
</div>


      <!-- Interactive Product Grid -->
      <div class="product-examples">
        <div class="products-grid">
          <div class="product" onclick="showDemoResult('bottle')">
            <img src="assets/bottle-icon.png" alt="Plastic bottle">
            <p>Plastic Bottle</p>
          </div>
          <div class="product" onclick="showDemoResult('paper')">
            <img src="assets/paper-icon.png" alt="Paper bag">
            <p>Paper Bag</p>
          </div>
          <div class="product" onclick="showDemoResult('electronics')">
            <img src="assets/electronics-icon.png" alt="Electronics">
            <p>Electronics</p>
          </div>
          <div class="product" onclick="showDemoResult('packaging')">
            <img src="assets/packaging-icon.png" alt="Food packaging">
            <p>Food Packaging</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Results Section -->
  <div class="ar-results" id="ar-results">
    <h3>Scan Results</h3>
    <div class="result-card">
      <h4 id="result-title">Product Name</h4>
      <div class="eco-facts">
        <div class="fact-card">
          <span class="icon">♻️</span>
          <p id="recyclability">Recyclability: --</p>
        </div>
        <div class="fact-card">
          <span class="icon">⚠️</span>
          <p id="carbon-impact">CO₂ Impact: --</p>
        </div>
      </div>
      <div class="suggestions">
        <h5>Sustainable Alternatives</h5>
        <ul id="alternative-list"></ul>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>